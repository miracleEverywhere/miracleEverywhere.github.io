import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as l,a as i,e as n,b as a,d as r,w as p,r as o,o as h}from"./app-CEi3r2_h.js";const d={},c={class:"hint-container tip"};function m(u,e){const t=o("RouteLink");return h(),l("div",null,[i("div",c,[e[4]||(e[4]=i("p",{class:"hint-container-title"},"提示",-1)),i("p",null,[e[1]||(e[1]=a("部署方式见",-1)),r(t,{to:"/quick-start/install.html"},{default:p(()=>[...e[0]||(e[0]=[a("快速上手-部署安装",-1)])]),_:1}),e[2]||(e[2]=i("br",null,null,-1)),e[3]||(e[3]=a(" 本节不再重复讲解",-1))])]),e[5]||(e[5]=n('<h2 id="启动脚本功能" tabindex="-1"><a class="header-anchor" href="#启动脚本功能"><span>启动脚本功能</span></a></h2><h4 id="_0-下载并启动饥荒管理平台" tabindex="-1"><a class="header-anchor" href="#_0-下载并启动饥荒管理平台"><span>[0]: 下载并启动饥荒管理平台</span></a></h4><ol><li><p>清理可能存在的旧饥荒管理平台程序</p></li><li><p>启动脚本会检查<code>jq</code>和<code>strings</code>命令，如果发现命令缺失，会自动安装</p></li><li><p>接下来会获取最新版本的饥荒管理平台下载地址和对应文件的<code>sha-256</code>校验值</p></li><li><p>提示用户选择加速节点，默认会提供3个节点供用户选择</p></li></ol><p>由于饥荒管理平台安装包托管在<code>Github</code>上，国内访问受限，需要加速</p><div class="hint-container warning"><p class="hint-container-title">注意</p><p>加速节点可能会失效，如果失效请自行修改加速节点</p></div><p>最后一个选项为不加速直接下载</p><ol start="5"><li><p>下载饥荒管理平台安装包，并校验</p></li><li><p>解压安装包并赋予执行权限</p></li><li><p>清理下载产生的临时文件</p></li><li><p>查询当前设置的端口是否被占用</p></li><li><p>检查<code>glibc</code>版本，如果版本不符合要求，则会更新<code>glibc</code>(仅限ubuntu系统)</p></li><li><p>启动饥荒管理平台</p></li></ol><h4 id="_1-启动饥荒管理平台" tabindex="-1"><a class="header-anchor" href="#_1-启动饥荒管理平台"><span>[1]: 启动饥荒管理平台</span></a></h4><p>启动饥荒管理平台主程序</p><h4 id="_2-关闭饥荒管理平台" tabindex="-1"><a class="header-anchor" href="#_2-关闭饥荒管理平台"><span>[2]: 关闭饥荒管理平台</span></a></h4><p>关闭饥荒管理平台主程序</p><h4 id="_3-重启饥荒管理平台" tabindex="-1"><a class="header-anchor" href="#_3-重启饥荒管理平台"><span>[3]: 重启饥荒管理平台</span></a></h4><ol><li><p>关闭饥荒管理平台主程序</p></li><li><p>启动饥荒管理平台主程序</p></li></ol><h4 id="_4-更新饥荒管理平台" tabindex="-1"><a class="header-anchor" href="#_4-更新饥荒管理平台"><span>[4]: 更新饥荒管理平台</span></a></h4><ol><li><p>自动检查最新的饥荒管理平台版本号</p></li><li><p>获取当前运行的饥荒管理平台版本号</p></li><li><p>如果发现有更新的版本，则执行：</p></li></ol><ul><li>[2]: 关闭饥荒管理平台</li><li>[0]: 下载并启动饥荒管理平台</li></ul><h4 id="_5-强制更新饥荒管理平台" tabindex="-1"><a class="header-anchor" href="#_5-强制更新饥荒管理平台"><span>[5]: 强制更新饥荒管理平台</span></a></h4><p>直接执行：</p><ul><li>[2]: 关闭饥荒管理平台</li><li>[0]: 下载并启动饥荒管理平台</li></ul><h4 id="_6-更新run-sh启动脚本" tabindex="-1"><a class="header-anchor" href="#_6-更新run-sh启动脚本"><span>[6]: 更新run.sh启动脚本</span></a></h4><ol><li><p>提示用户选择加速节点</p></li><li><p>保存脚本中可配置的变量</p></li><li><p>下载最新版本的<code>run.sh</code>脚本</p></li><li><p>将保存的变量写入新下载的脚本中</p></li><li><p>重启启动脚本</p></li></ol><h4 id="_7-设置虚拟内存" tabindex="-1"><a class="header-anchor" href="#_7-设置虚拟内存"><span>[7]: 设置虚拟内存</span></a></h4><p>为当前系统设置虚拟内存，虚拟内存的大小取决于可配置变量<code>SWAPSIZE</code>，脚本会自动创建swap分区并挂载，写入<code>/etc/fstab</code>文件实现自动挂载，修改虚拟内存相关的内核参数并持久化保存</p><h4 id="_8-设置开机自启" tabindex="-1"><a class="header-anchor" href="#_8-设置开机自启"><span>[8]: 设置开机自启</span></a></h4><p>向当前用户的crontab中写入：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">@reboot</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /bin/bash</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;source /etc/profile &amp;&amp; cd /root &amp;&amp; echo 1 | /root/run.sh&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>以实现开机自启</p><h4 id="_9-退出脚本" tabindex="-1"><a class="header-anchor" href="#_9-退出脚本"><span>[9]: 退出脚本</span></a></h4><p>退出当前脚本</p><h2 id="补充说明" tabindex="-1"><a class="header-anchor" href="#补充说明"><span>补充说明</span></a></h2><p>run.sh脚本每次启动会对自身完整性进行校验，如果出现红色闪烁字符，表示启动脚本已被篡改，请重新创建</p>',31))])}const k=s(d,[["render",m]]),y=JSON.parse('{"path":"/docs/install/bin.html","title":"启动脚本部署","lang":"zh-CN","frontmatter":{"title":"启动脚本部署","icon":"code","order":1,"date":"2025-06-04T00:00:00.000Z","description":"提示 部署方式见 本节不再重复讲解 启动脚本功能 [0]: 下载并启动饥荒管理平台 清理可能存在的旧饥荒管理平台程序 启动脚本会检查jq和strings命令，如果发现命令缺失，会自动安装 接下来会获取最新版本的饥荒管理平台下载地址和对应文件的sha-256校验值 提示用户选择加速节点，默认会提供3个节点供用户选择 由于饥荒管理平台安装包托管在Githu...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"启动脚本部署\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-06-04T00:00:00.000Z\\",\\"dateModified\\":\\"2025-12-30T07:41:35.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"miracleEverywhere\\",\\"url\\":\\"https://github.com/miracleEverywhere\\"}]}"],["meta",{"property":"og:url","content":"https://miraclesses.top/docs/install/bin.html"}],["meta",{"property":"og:site_name","content":"饥荒管理平台"}],["meta",{"property":"og:title","content":"启动脚本部署"}],["meta",{"property":"og:description","content":"提示 部署方式见 本节不再重复讲解 启动脚本功能 [0]: 下载并启动饥荒管理平台 清理可能存在的旧饥荒管理平台程序 启动脚本会检查jq和strings命令，如果发现命令缺失，会自动安装 接下来会获取最新版本的饥荒管理平台下载地址和对应文件的sha-256校验值 提示用户选择加速节点，默认会提供3个节点供用户选择 由于饥荒管理平台安装包托管在Githu..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-12-30T07:41:35.000Z"}],["meta",{"property":"article:published_time","content":"2025-06-04T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-12-30T07:41:35.000Z"}]]},"git":{"createdTime":1749024831000,"updatedTime":1767080495000,"contributors":[{"name":"miracleEverywhere","username":"miracleEverywhere","email":"763483966@qq.com","commits":10,"url":"https://github.com/miracleEverywhere"},{"name":"mhwy","username":"mhwy","email":"522247020@qq.com","commits":1,"url":"https://github.com/mhwy"}]},"readingTime":{"minutes":2.44,"words":732},"filePathRelative":"docs/install/bin.md","autoDesc":true}');export{k as comp,y as data};
